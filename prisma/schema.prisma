generator client {
  provider = "prisma-client-js"
  output   = "../verdinhaz/node_modules/.prisma/client"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Medico {
  id            Int      @id @default(autoincrement())
  nome          String
  email         String   @unique
  crm           String   @unique
  especialidade String
  localizacao   String
  biografia     String?  @default("") // Tornado opcional para facilitar cadastro inicial
  fotoUrl       String?  // Tornado opcional (o médico pode não ter foto no início)
  senha         String
  
  // Rastreamento de tempo
  criadoEm      DateTime @default(now())
  atualizadoEm  DateTime @updatedAt

  // Relações
  mensagens   Mensagem[]
  publicacoes Publicacao[]
}

model Mensagem {
  id             Int      @id @default(autoincrement())
  nome           String
  telefone       String
  mensagem       String
  dataNascimento String   
  criadoEm       DateTime @default(now())

  // Relação
  medicoId Int
  medico   Medico @relation(fields: [medicoId], references: [id])
}

model Publicacao {
  id        Int      @id @default(autoincrement())
  titulo    String
  conteudo  String
  imagemUrl String?
  criadoEm  DateTime @default(now())
  atualizadoEm DateTime @updatedAt

  // Relação
  medicoId Int
  medico   Medico @relation(fields: [medicoId], references: [id])
}